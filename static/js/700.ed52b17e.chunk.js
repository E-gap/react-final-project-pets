"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[700],{5700:function(e,a,t){t.r(a),t.d(a,{default:function(){return Be}});var s=t(5861),r=t(9439),n=t(4687),l=t.n(n),i=t(2791),o=t(7689),c=t(9434),d=t(5705),m=t(4805),u=t(398),p=t(9874),h=t(9126),_="ButtonBack_btn__LENSL",x="ButtonBack_icon__scIiW",f=t(3329),v=function(e){var a=e.text,t=e.clickHandler,s=e.type;return(0,f.jsxs)("button",{className:_,onClick:t,type:s,children:[(0,f.jsx)(h.And,{className:x})," ",a]})},N=t(71),j="ButtonNext_button__7mCV-",y="ButtonNext_icon__w0axR",b=function(e){var a=e.type,t=e.text,s=e.clickHandler,r=(e.filled,e.disabled);return(0,f.jsxs)("button",{className:j,type:a,onClick:s,disabled:r,children:[t,(0,f.jsx)(N.Oik,{className:y})]})},g=b;b.defaultProps={type:"button"};var C="ChooseOption_form__RhKQF",M="ChooseOption_field__QKwJw",I="ChooseOption_label__6heQw",B="ChooseOption_fieldText__bJUa+",k=function(e){var a=e.selectedCategory,t=e.setCategory,s=function(e){t(e.target.value)};return(0,f.jsxs)("div",{className:C,children:[(0,f.jsxs)("label",{className:I,children:[(0,f.jsx)(d.gN,{className:M,type:"radio",name:"category",value:"your-pet",checked:"your-pet"===a,onChange:s}),(0,f.jsx)("span",{className:B,children:"your pet"})]}),(0,f.jsxs)("label",{className:I,children:[(0,f.jsx)(d.gN,{className:M,type:"radio",name:"category",value:"sell",checked:"sell"===a,onChange:s}),(0,f.jsx)("span",{className:B,children:"sell"})]}),(0,f.jsxs)("label",{className:I,children:[(0,f.jsx)(d.gN,{className:M,type:"radio",name:"category",value:"lost-found",checked:"lost-found"===a,onChange:s}),(0,f.jsx)("span",{className:B,children:"lost/found"})]}),(0,f.jsxs)("label",{className:I,children:[(0,f.jsx)(d.gN,{className:M,type:"radio",name:"category",value:"for-free",checked:"for-free"===a,onChange:s}),(0,f.jsx)("span",{className:B,children:"in good hands"})]})]})},P=t(4942),Z=t(1694),q=t.n(Z),A="MoreInfo_form__tD43-",D="MoreInfo_genderHeader__V8-mp",F="MoreInfo_genderWrapper__okmKx",T="MoreInfo_genderBtn__8lXj1",w="MoreInfo_maleIcon__PItwI",L="MoreInfo_femaleIcon__7qOz-",S="MoreInfo_genderLabelText__LEiKB",z="MoreInfo_maleBtn__NTRqR",R="MoreInfo_femaleBtn__IRIAA",O="MoreInfo_genderLabel__tKqCt",Q="MoreInfo_label__Z06Tj",U="MoreInfo_labelText__uPy3t",V="MoreInfo_fileLabel__TJABA",K="MoreInfo_fileInput__CZ785",Y="MoreInfo_imgWrapper__JgOX-",W="MoreInfo_img__1Mshh",J="MoreInfo_plus__z85Pn",H="MoreInfo_comments__crAUk",X="MoreInfo_errorComments__yXzYL",G="MoreInfo_validComments__6sRSG",$="MoreInfo_field__NgDQ1",E="MoreInfo_errorField__Lft5S",ee="MoreInfo_validField__8-rVI",ae="MoreInfo_errorMsg__gOy6z",te="MoreInfo_validMsg__NcAKW",se="MoreInfo_errorMsgComments__D+Qmm",re="MoreInfo_validMsgComments__krWiL",ne="MoreInfo_inputWrapper__yU5u4",le="MoreInfo_addPhoto__CGuR1",ie=function(e){var a,t,s,r=e.category,n=e.errors,l=e.touched,i=e.validateLocation,o=e.validatePrice,c=e.validateComments,u=(0,d.u6)(),p=u.setFieldValue,_=u.values,x=(0,m.useMediaQuery)({query:"(max-width: 768px)"}),v=(0,m.useMediaQuery)({query:"(min-width: 768px)"});return(0,f.jsxs)("div",{className:A,style:{flexDirection:v&&"your-pet"===r||x?"column":"row"},children:[(0,f.jsxs)("div",{className:ne,children:["your-pet"!==r&&(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{className:D,children:"The Sex"}),(0,f.jsxs)("div",{className:F,children:[(0,f.jsxs)("label",{className:O,children:[(0,f.jsx)(d.gN,{type:"radio",name:"sex",value:"female",className:T+" "+R}),(0,f.jsx)(h.c1L,{className:L}),(0,f.jsx)("span",{className:S,children:"Female"})]}),(0,f.jsxs)("label",{className:O,children:[(0,f.jsx)(d.gN,{type:"radio",name:"sex",value:"male",className:T+" "+z}),(0,f.jsx)(h.SxU,{className:w}),(0,f.jsx)("span",{className:S,children:"Male"})]})]})]}),(0,f.jsxs)("label",{className:V,style:{flexDirection:"your-pet"===r||x?"row":"column"},children:[(0,f.jsx)("span",{className:le,style:{marginRight:"your-pet"===r&&x?"33px":"0"},children:"your-pet"===r||x?"Add photo":"Load the pet\u2019s image:"}),(0,f.jsx)("div",{className:Y,children:_.photo?(0,f.jsx)("img",{className:W,src:URL.createObjectURL(_.photo),alt:_.photo.name}):(0,f.jsx)(h.B8K,{className:J})}),(0,f.jsx)("input",{type:"file",name:"photo",accept:".png, .jpg, .jpeg, .webp",onChange:function(e){var a=e.target,t=a.name,s=a.value,r=a.files;p(t,"photo"===t?r[0]:s)},className:K}),(0,f.jsx)(d.Bc,{name:"photo",component:"div"})]})]}),(0,f.jsxs)("div",{className:ne,children:["your-pet"!==r&&(0,f.jsxs)("label",{className:Q,children:[(0,f.jsx)("span",{className:U,children:"Location"}),(0,f.jsx)(d.gN,{placeholder:"Type of location",type:"text",name:"location",validate:i,className:q()($,(a={},(0,P.Z)(a,E,n.location&&l.location),(0,P.Z)(a,ee,!n.location&&l.location),a))}),(0,f.jsx)("div",{className:ae,children:(0,f.jsx)(d.Bc,{name:"location",component:"div"})}),!n.location&&l.location&&(0,f.jsx)("div",{className:te,children:(0,f.jsx)("p",{children:"Location is valid"})})]}),"sell"===r&&(0,f.jsxs)("label",{className:Q,children:[(0,f.jsx)("span",{className:U,children:"Price"}),(0,f.jsx)(d.gN,{placeholder:"Type of price",type:"text",name:"price",validate:o,className:q()($,(t={},(0,P.Z)(t,E,n.price&&l.price),(0,P.Z)(t,ee,!n.price&&l.price),t))}),(0,f.jsx)("div",{className:ae,children:(0,f.jsx)(d.Bc,{name:"price",component:"div"})}),!n.price&&l.price&&(0,f.jsx)("div",{className:te,children:(0,f.jsx)("p",{children:"Price is valid"})})]}),(0,f.jsxs)("label",{className:Q,children:[(0,f.jsx)("span",{className:U,children:"Comments"}),(0,f.jsx)(d.gN,{as:"textarea",placeholder:"Type comments",name:"comments",validate:c,className:q()(H,(s={},(0,P.Z)(s,X,n.comments&&l.comments),(0,P.Z)(s,G,!n.comments&&l.comments),s)),style:{height:"lost-found"===r||"good-hands"===r?"182px":"79px"}}),(0,f.jsx)("div",{className:se,children:(0,f.jsx)(d.Bc,{name:"comments",component:"div"})}),!n.comments&&l.comments&&(0,f.jsx)("div",{className:re,children:(0,f.jsx)("p",{children:"Comment is valid"})})]})]})]})},oe="PersonalDetails_form__dSjDr",ce="PersonalDetails_label__JodDe",de="PersonalDetails_labelText__FKlNL",me="PersonalDetails_field__co8xz",ue="PersonalDetails_errorField__tza0t",pe="PersonalDetails_validField__rAb9c",he="PersonalDetails_errorMsg__mA7UJ",_e="PersonalDetails_validMsg__7mkoX",xe=function(e){var a,t,s,r,n=e.category,l=(e.values,e.errors),i=e.touched,o=e.validateTitle,c=e.validateName,m=e.validateBirthday,u=e.validateBreed,p=(0,d.u6)(),h=p.handleChange,_=p.setFieldValue,x=function(e){var a=e.target,t=a.name,s=a.value;h(e),_(t,s)};return(0,f.jsxs)("div",{className:oe,children:["your-pet"!==n&&(0,f.jsxs)("label",{className:ce,children:[(0,f.jsx)("span",{className:de,children:"Title of add"}),(0,f.jsx)(d.gN,{placeholder:"Type title",type:"text",name:"title",validate:o,className:q()(me,(a={},(0,P.Z)(a,ue,l.title&&i.title),(0,P.Z)(a,pe,!l.title&&i.title),a)),required:!0,onChange:x})," ",(0,f.jsx)("div",{className:he,children:(0,f.jsx)(d.Bc,{name:"title",component:"div"})}),!l.title&&i.title&&(0,f.jsx)("div",{className:_e,children:(0,f.jsx)("p",{children:"Title is valid"})})]}),(0,f.jsxs)("label",{className:ce,children:[(0,f.jsx)("span",{className:de,children:"Name pet"}),(0,f.jsx)(d.gN,{placeholder:"Type name pet",type:"text",name:"name",validate:c,className:q()(me,(t={},(0,P.Z)(t,ue,l.name&&i.name),(0,P.Z)(t,pe,!l.name&&i.name),t)),onChange:x}),(0,f.jsx)("div",{className:he,children:(0,f.jsx)(d.Bc,{name:"name",component:"div"})}),!l.name&&i.name&&(0,f.jsx)("div",{className:_e,children:(0,f.jsx)("p",{children:"Name is valid"})})]}),(0,f.jsxs)("label",{className:ce,children:[(0,f.jsx)("span",{className:de,children:"Date of birth"}),(0,f.jsx)(d.gN,{placeholder:"Type date of birth",type:"text",name:"birthday","data-pattern":"**.**.****",validate:m,className:q()(me,(s={},(0,P.Z)(s,ue,l.birthday&&i.birthday),(0,P.Z)(s,pe,!l.birthday&&i.birthday),s)),onChange:x}),(0,f.jsx)("div",{className:he,children:(0,f.jsx)(d.Bc,{name:"birthday",component:"div"})}),!l.birthday&&i.birthday&&(0,f.jsx)("div",{className:_e,children:(0,f.jsx)("p",{children:"Date is valid"})})]}),(0,f.jsxs)("label",{className:ce,children:[(0,f.jsx)("span",{className:de,children:"Breed"}),(0,f.jsx)(d.gN,{placeholder:"Type breed",type:"text",name:"breed",validate:u,className:q()(me,(r={},(0,P.Z)(r,ue,l.breed&&i.breed),(0,P.Z)(r,pe,!l.breed&&i.breed),r)),onChange:x}),(0,f.jsx)("div",{className:he,children:(0,f.jsx)(d.Bc,{name:"breed",component:"div"})}),!l.breed&&i.breed&&(0,f.jsx)("div",{className:_e,children:(0,f.jsx)("p",{children:"Breed is valid"})})]})]})},fe={list:"AddPetSteps_list__gLgOz",item:"AddPetSteps_item__ai3U1",span:"AddPetSteps_span__AsAPr",active:"AddPetSteps_active__wGCVn",completeText:"AddPetSteps_completeText__ohF6x",complete:"AddPetSteps_complete__B-XfI"},ve=function(e){var a=e.currentStep,t=["Choose Option","Personal Details","More Info"].map((function(e,t){return(0,f.jsxs)("li",{className:t<a?"".concat(fe.item," ").concat(fe.completeText):fe.item,children:[(0,f.jsx)("p",{className:fe.text,children:e}),(0,f.jsx)("span",{className:a===t?"".concat(fe.span," ").concat(fe.active):t<a?"".concat(fe.span," ").concat(fe.complete):fe.span})]},t)}));return(0,f.jsx)("ul",{className:fe.list,children:t})},Ne=t(6727),je={0:Ne.Ry().shape({category:Ne.Z_().required("Category is required")}),1:Ne.Ry().shape({title:Ne.Z_().when("category",{is:Ne.Z_().oneOf(["sell","lost-found","good-hands"]),then:Ne.Z_().required("Title is required").min(4,"min 4 exeet")}),name:Ne.Z_().required("Name is required").min(2,"Name must be at least 2 characters").max(16,"Name must not exceed 16 characters"),birthday:Ne.Z_().required("Date is required").matches(/^(\d{2})\.(\d{2})\.(\d{4})$/,"Invalid date format. Use DD.MM.YYYY"),breed:Ne.Z_().required("Breed is required").min(2,"Breed must be at least 2 characters").max(16,"Breed must not exceed 16 characters")}),2:Ne.Ry().shape({photo:Ne.nK().required("File is required").test("fileSize","File size must not exceed 3MB",(function(e){return e&&e.size<=5242880})),location:Ne.Z_().when("category",{is:function(e){return["sell","lost-found","for-free"].includes(e)},then:Ne.Z_().required("Location is required").matches(/^[A-Za-z\s]+$/,"Invalid location format")}),comments:Ne.Z_().min(4,"Comments should be at least 4 characters").max(120,"Comments should not exceed 120 characters")})},ye={category:"",name:"",title:"",birthday:"",breed:"",location:"",comments:"",photo:null,sex:"",price:""},be="AddPetForm_main__f2Gp+",ge="AddPetForm_formikWrapper__9abrq",Ce="AddPetForm_formik__-5bzX",Me="AddPetForm_title__1HeL8",Ie="AddPetForm_btnWrapper__06FQ0",Be=function(){var e=(0,i.useState)(0),a=(0,r.Z)(e,2),t=a[0],n=a[1],h=(0,i.useState)(""),_=(0,r.Z)(h,2),x=_[0],N=_[1],j=(0,i.useState)(""),y=(0,r.Z)(j,2),b=y[0],C=y[1],M=(0,o.s0)(),I=(0,c.I0)(),B=(0,m.useMediaQuery)({query:"(max-width: 768px)"}),P=(0,m.useMediaQuery)({query:"(min-width: 768px)"}),Z=function(){M(-1)},q=function(e){e.preventDefault(),n((function(e){return e+1}))},A=function(){n((function(e){return e-1}))},D=(0,i.useCallback)(function(){var e=(0,s.Z)(l().mark((function e(a,t){var s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=2;break}return e.abrupt("return");case 2:if((s=new FormData).append("name",a.name),s.append("birthday",a.birthday),s.append("breed",a.breed),s.append("comments",a.comments),s.append("photo",a.photo),"your-pet"!==b){e.next=12;break}return I((0,p.yg)(s)),M(-1),e.abrupt("return");case 12:if(s.append("category",b),s.append("title",a.title),s.append("sex",a.sex),s.append("location",a.location),"lost-found"!==b){e.next=20;break}return I((0,u.Fy)(s)),M(-1),e.abrupt("return");case 20:if("good-hands"!==b){e.next=24;break}return I((0,u.Fy)(s)),M(-1),e.abrupt("return");case 24:if(s.append("price",a.price),"sell"!==b){e.next=29;break}return I((0,u.Fy)(s)),M(-1),e.abrupt("return");case 29:M(-1),t();case 31:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),[b,M,I]),F=(0,i.useCallback)((function(){return 0===t?"Add Pet":{"your-pet":"Add my pet",sell:"Add pet for sell","lost-found":"Add lost pet","good-hands":"Add to pet for adoption"}[b]}),[b,t]);function T(e){return e?e.length<4?"Title must be at least 4 characters":void 0:"Title is required"}function w(e){return e?e.length<2?"Name must be at least 2 characters":e.length>16?"Name must not exceed 16 characters":void 0:"Name is required"}function L(e){return e?/^(\d{2})\.(\d{2})\.(\d{4})$/i.test(e)?void 0:"Invalid date format. Use DD.MM.YYYY":"Date is required"}function S(e){return e?e.length<2?"Breed must be at least 2 characters":e.length>16?"Breed must not exceed 16 characters":void 0:"Breed is required"}function z(e){return e?/^[A-Za-z\s]+$/i.test(e)?void 0:"Invalid location format":"Location is required"}function R(e){if(!e)return"Price is required"}function O(e){return e?e.length<4?"Comments should be at least 4 characters":e.length>120?"Comments should not exceed 120 characters":void 0:"Comments is required"}return(0,i.useEffect)((function(){N(F())}),[F]),(0,f.jsx)("main",{className:be,children:(0,f.jsx)("div",{className:ge+" container",children:(0,f.jsx)(d.J9,{initialValues:ye,validationSchema:je[t],onSubmit:function(e,a){var t=a.resetForm;return D(e,t)},children:function(e){var a=e.handleChange,s=e.setFieldValue,r=e.values,n=(e.dirty,e.isValid),l=e.errors,i=e.touched;return(0,f.jsxs)(d.l0,{className:Ce,style:{width:P&&2===t?"704px":B?"280px":"458px",alignItems:P&&2===t?"center":"flex-start"},children:[(0,f.jsx)("h1",{className:Me,children:x}),(0,f.jsx)(ve,{currentStep:t}),0===t&&(0,f.jsx)(k,{setCategory:C,selectedCategory:b}),1===t&&(0,f.jsx)(xe,{category:b,handleChange:a,setFieldValue:s,values:r,errors:l,touched:i,validateTitle:T,validateName:w,validateBirthday:L,validateBreed:S}),2===t&&(0,f.jsx)(ie,{category:b,value:r,errors:l,touched:i,validateLocation:z,validatePrice:R,validateComments:O}),(0,f.jsxs)("div",{className:Ie,children:[(0,f.jsx)(g,{type:2===t?"submit":"button",text:2===t?"Done":"Next",clickHandler:2!==t?q:void 0,disabled:0===t?!b:!n}),(0,f.jsx)(v,{type:"button",clickHandler:0===t?Z:A,text:0===t?"Cancel":"Back"})]})]})}})})})}}}]);
//# sourceMappingURL=700.ed52b17e.chunk.js.map