"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[154],{7154:function(e,a,s){s.r(a),s.d(a,{default:function(){return le}});var t=s(5861),n=s(9439),r=s(7757),l=s.n(r),o=s(2791),c=s(7689),i=s(9434),d=s(5705),m=s(398),u=s(9126),p="ButtonBack_btn__LENSL",h="ButtonBack_icon__scIiW",_=s(3329),x=function(e){var a=e.text,s=e.clickHandler,t=e.type;return(0,_.jsxs)("button",{className:p,onClick:s,type:t,children:[(0,_.jsx)(u.And,{className:h})," ",a]})},f=s(71),j="ButtonNext_button__7mCV-",N="ButtonNext_icon__w0axR",g=function(e){var a=e.type,s=e.text,t=e.clickHandler,n=(e.filled,e.disabled);return(0,_.jsxs)("button",{className:j,type:a,onClick:t,disabled:n,children:[s,(0,_.jsx)(f.Oik,{className:N})]})},y=g;g.defaultProps={type:"button"};var b="ChooseOption_form__RhKQF",v="ChooseOption_field__QKwJw",C="ChooseOption_label__6heQw",I="ChooseOption_fieldText__bJUa+",k=function(e){var a=e.selectedCategory,s=e.setCategory,t=function(e){s(e.target.value)};return(0,_.jsxs)("div",{className:b,children:[(0,_.jsxs)("label",{className:C,children:[(0,_.jsx)(d.gN,{className:v,type:"radio",name:"category",value:"your-pet",checked:"your-pet"===a,onChange:t}),(0,_.jsx)("span",{className:I,children:"your pet"})]}),(0,_.jsxs)("label",{className:C,children:[(0,_.jsx)(d.gN,{className:v,type:"radio",name:"category",value:"sell",checked:"sell"===a,onChange:t}),(0,_.jsx)("span",{className:I,children:"sell"})]}),(0,_.jsxs)("label",{className:C,children:[(0,_.jsx)(d.gN,{className:v,type:"radio",name:"category",value:"lost-found",checked:"lost-found"===a,onChange:t}),(0,_.jsx)("span",{className:I,children:"lost/found"})]}),(0,_.jsxs)("label",{className:C,children:[(0,_.jsx)(d.gN,{className:v,type:"radio",name:"category",value:"good-hands",checked:"good-hands"===a,onChange:t}),(0,_.jsx)("span",{className:I,children:"in good hands"})]})]})},B="MoreInfo_form__tD43-",M="MoreInfo_genderHeader__V8-mp",F="MoreInfo_genderWrapper__okmKx",A="MoreInfo_genderBtn__8lXj1",w="MoreInfo_maleIcon__PItwI",D="MoreInfo_femaleIcon__7qOz-",P="MoreInfo_genderLabelText__LEiKB",Z="MoreInfo_maleBtn__NTRqR",T="MoreInfo_femaleBtn__IRIAA",q="MoreInfo_genderLabel__tKqCt",L="MoreInfo_label__Z06Tj",O="MoreInfo_labelText__uPy3t",R="MoreInfo_fileLabel__TJABA",S="MoreInfo_fileInput__CZ785",K="MoreInfo_imgWrapper__JgOX-",V="MoreInfo_img__1Mshh",H="MoreInfo_plus__z85Pn",J="MoreInfo_comments__crAUk",U="MoreInfo_field__NgDQ1",z=function(e){var a=e.category,s=e.fileInput,t=e.setFileInput;return(0,_.jsxs)("div",{className:B,children:["your-pet"!==a&&(0,_.jsxs)("div",{className:"add-form-sex-wrapper",children:[(0,_.jsx)("p",{className:M,children:"The Sex"}),(0,_.jsxs)("div",{className:F,children:[(0,_.jsxs)("label",{className:q,children:[(0,_.jsx)(d.gN,{type:"radio",name:"sex",value:"female",className:A+" "+T}),(0,_.jsx)(u.c1L,{className:D}),(0,_.jsx)("span",{className:P,children:"Female"})]}),(0,_.jsxs)("label",{className:q,children:[(0,_.jsx)(d.gN,{type:"radio",name:"sex",value:"male",className:A+" "+Z}),(0,_.jsx)(u.SxU,{className:w}),(0,_.jsx)("span",{className:P,children:"Male"})]})]})]}),(0,_.jsxs)("label",{className:R,children:[(0,_.jsx)("span",{children:"Add photo"}),(0,_.jsx)("div",{className:K,children:s?(0,_.jsx)("img",{className:V,src:URL.createObjectURL(s),alt:s.name}):(0,_.jsx)(u.B8K,{className:H})}),(0,_.jsx)("input",{type:"file",name:"pet-image",accept:".png, .jpg, .jpeg, .webp",onChange:function(e){return t(e.target.files[0])},className:S}),(0,_.jsx)(d.Bc,{name:"pet-image",component:"div"})]}),"your-pet"!==a&&(0,_.jsxs)("label",{className:L,children:[(0,_.jsx)("span",{className:O,children:"Location"}),(0,_.jsx)(d.gN,{placeholder:"Type of location",type:"text",name:"location",className:U}),(0,_.jsx)(d.Bc,{name:"location",component:"div"})]}),"sell"===a&&(0,_.jsxs)("label",{className:L,children:[(0,_.jsx)("span",{className:O,children:"Price"}),(0,_.jsx)(d.gN,{placeholder:"Type of price",type:"text",name:"price",className:U}),(0,_.jsx)(d.Bc,{name:"price",component:"div"})]}),(0,_.jsxs)("label",{className:L,children:[(0,_.jsx)("span",{className:O,children:"Comments"}),(0,_.jsx)(d.gN,{as:"textarea",placeholder:"Type comments",name:"comments",className:J}),(0,_.jsx)(d.Bc,{name:"comments",component:"div"})]})]})},Q="PersonalDetails_form__dSjDr",W="PersonalDetails_label__JodDe",Y="PersonalDetails_labelText__FKlNL",E="PersonalDetails_field__co8xz",X=function(e){var a=e.category,s=(0,d.u6)(),t=s.handleChange,n=s.setFieldValue,r=function(e){var a=e.target,s=a.name,r=a.value;t(e),n(s,r)};return(0,_.jsxs)("div",{className:Q,children:["your-pet"!==a&&(0,_.jsxs)("label",{className:W,children:[(0,_.jsx)("span",{className:Y,children:"Title of add"}),(0,_.jsx)(d.gN,{placeholder:"Type title",type:"text",name:"title",className:E,onChange:r}),(0,_.jsx)(d.Bc,{name:"title",component:"div"})]}),(0,_.jsxs)("label",{className:W,children:[(0,_.jsx)("span",{className:Y,children:"Name pet"}),(0,_.jsx)(d.gN,{placeholder:"Type name pet",type:"text",name:"name",className:E,onChange:r}),(0,_.jsx)(d.Bc,{name:"name",component:"div"})]}),(0,_.jsxs)("label",{className:W,children:[(0,_.jsx)("span",{className:Y,children:"Date of birth"}),(0,_.jsx)(d.gN,{placeholder:"Type date of birth",type:"text",name:"birthday","data-pattern":"**.**.****",className:E,onChange:r}),(0,_.jsx)(d.Bc,{name:"birthday",component:"div"})]}),(0,_.jsxs)("label",{className:W,children:[(0,_.jsx)("span",{className:Y,children:"Breed"}),(0,_.jsx)(d.gN,{placeholder:"Type breed",type:"text",name:"breed",className:E,onChange:r}),(0,_.jsx)(d.Bc,{name:"breed",component:"div"})]})]})},$=s(6727),G={0:$.Ry().shape({category:$.Z_().required("Category is required")}),1:$.Ry().shape({title:$.Z_().when("category",{is:$.Z_().oneOf(["sell","lost-found","good-hands"]),then:$.Z_().required("Title is required").min(4,"min 4 exeet")}),name:$.Z_().required("Name is required").min(2,"Name must be at least 2 characters").max(16,"Name must not exceed 16 characters"),birthday:$.Z_().required("Date is required").matches(/^(\d{2})\.(\d{2})\.(\d{4})$/,"Invalid date format. Use DD.MM.YYYY"),breed:$.Z_().required("Breed is required").min(2,"Breed must be at least 2 characters").max(16,"Breed must not exceed 16 characters")}),2:$.Ry().shape({location:$.Z_().when("category",{is:function(e){return["sell","lost-found","for-free"].includes(e)},then:$.Z_().required("Location is required").matches(/^[A-Za-z\s]+$/,"Invalid location format")}),comments:$.Z_().min(4,"Comments should be at least 4 characters").max(120,"Comments should not exceed 120 characters")})},ee={category:"",name:"",title:"",birthday:"",breed:"",location:"",comments:"",image:null,sex:"",price:""},ae="AddPetForm_main__f2Gp+",se="AddPetForm_formikWrapper__9abrq",te="AddPetForm_formik__-5bzX",ne="AddPetForm_title__1HeL8",re="AddPetForm_btnWrapper__06FQ0",le=function(){var e=(0,o.useState)(""),a=(0,n.Z)(e,2),s=a[0],r=a[1],u=(0,o.useState)(0),p=(0,n.Z)(u,2),h=p[0],f=p[1],j=(0,o.useState)(""),N=(0,n.Z)(j,2),g=N[0],b=N[1],v=(0,o.useState)(""),C=(0,n.Z)(v,2),I=C[0],B=C[1],M=(0,c.s0)(),F=(0,i.I0)(),A=function(){M(-1)},w=function(e){e.preventDefault(),f((function(e){return e+1}))},D=function(){f((function(e){return e-1}))},P=(0,o.useCallback)(function(){var e=(0,t.Z)(l().mark((function e(a,t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=new FormData).set("category",I),n.set("name",a.name),n.set("birthday",a.birthday),n.set("breed",a.breed),n.set("image",s),n.set("comments",a.comments),"your-pet"!==I){e.next=12;break}return M(-1),console.log("your-pet"),e.abrupt("return");case 12:if(n.set("title",a.title),n.set("sex",a.sex),n.set("location",a.location),"lost-found"!==I){e.next=20;break}return F((0,m.Fy)({category:"lost-found",newFormData:n})),M(-1),console.log("lost-found"),e.abrupt("return");case 20:if("good-hands"!==I){e.next=24;break}return F((0,m.Fy)({category:"in-good-hands",newFormData:n})),M(-1),e.abrupt("return");case 24:if(n.set("price",a.price),"sell"!==I){e.next=30;break}return F((0,m.Fy)({category:"sell",newFormData:n})),M(-1),console.log("sell"),e.abrupt("return");case 30:t(),M(-1);case 32:case"end":return e.stop()}}),e)})));return function(a,s){return e.apply(this,arguments)}}(),[I,s,M,F]),Z=(0,o.useCallback)((function(){return{"your-pet":"Add pet",sell:"Add pet for sell","lost-found":"Add lost pet","good-hands":"Add to give a Pet for Adoption","":"Add Pet"}[I]||"Add Pet"}),[I]);return(0,o.useEffect)((function(){b(Z())}),[Z]),(0,_.jsx)("main",{className:ae,children:(0,_.jsxs)("div",{className:se+" container",children:[(0,_.jsx)("ul",{children:["Choose Option","Personal Details","More Info"].map((function(e,a){return(0,_.jsx)("li",{children:(0,_.jsx)("span",{children:h===a&&e})},a)}))}),(0,_.jsx)(d.J9,{initialValues:ee,validationSchema:G[h],onSubmit:function(e,a){var s=a.resetForm;return P(e,s)},children:function(e){var a=e.handleChange,t=e.setFieldValue,n=e.values,l=(e.dirty,e.isValid);e.errors;return(0,_.jsxs)(d.l0,{className:te,children:[(0,_.jsx)("h1",{className:ne,children:g}),0===h&&(0,_.jsx)(k,{setCategory:B,selectedCategory:I}),1===h&&(0,_.jsx)(X,{category:I,handleChange:a,setFieldValue:t,values:n}),2===h&&(0,_.jsx)(z,{fileInput:s,setFileInput:r,category:I}),(0,_.jsxs)("div",{className:re,children:[(0,_.jsx)(y,{type:2===h?"submit":"button",text:2===h?"Done":"Next",clickHandler:2!==h?w:void 0,disabled:0===h?!I:!l}),(0,_.jsx)(x,{type:"button",clickHandler:0===h?A:D,text:0===h?"Cancel":"Back"})]})]})}})]})})}}}]);
//# sourceMappingURL=154.938056bd.chunk.js.map