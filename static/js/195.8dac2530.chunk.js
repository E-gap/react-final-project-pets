"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[195],{6195:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var n=a(5861),r=a(9439),l=a(7757),s=a.n(l),o=a(2791),d=a(7689),i=a(5705),c=a(3329),m=function(e){var t=e.text,a=e.clickHandler,n=e.type;return(0,c.jsx)("button",{onClick:a,type:n,children:t})},u=function(e){var t=e.type,a=e.text,n=e.clickHandler,r=(e.filled,e.disabled);return(0,c.jsx)("button",{type:t,onClick:n,disabled:r,children:a})},p=u;u.defaultProps={type:"button"};var h=function(e){var t=e.setCategory,a=(0,o.useState)(""),n=(0,r.Z)(a,2),l=n[0],s=n[1],d=function(e){t(e.target.value),s(e.target.value)};return(0,c.jsxs)("div",{children:[(0,c.jsxs)("label",{htmlFor:"your-pet",children:[(0,c.jsx)(i.gN,{type:"radio",name:"category",value:"your-pet",id:"your-pet",checked:"your-pet"===l,onChange:d}),"Your pet"]}),(0,c.jsxs)("label",{htmlFor:"sell",children:[(0,c.jsx)(i.gN,{type:"radio",name:"category",value:"sell",id:"sell",checked:"sell"===l,onChange:d}),"Sell"]}),(0,c.jsxs)("label",{htmlFor:"lost-found",children:[(0,c.jsx)(i.gN,{type:"radio",name:"category",value:"lost-found",id:"lost-found",checked:"lost-found"===l,onChange:d}),"Lost/found"]}),(0,c.jsxs)("label",{htmlFor:"good-hands",children:[(0,c.jsx)(i.gN,{type:"radio",name:"category",value:"good-hands",id:"good-hands",checked:"good-hands"===l,onChange:d}),"In good hands"]})]})},x=function(e){var t=e.category,a=e.fileInput,n=e.setFileInput;return(0,c.jsxs)("div",{className:"personal-form-wrapper",children:["your-pet"!==t&&(0,c.jsxs)("div",{className:"add-form-sex-wrapper",children:[(0,c.jsx)("p",{children:"The Sex"}),(0,c.jsxs)("label",{children:[(0,c.jsx)(i.gN,{type:"radio",name:"sex",value:"female",className:"add-form-radio-button"}),"Female"]}),(0,c.jsxs)("label",{children:[(0,c.jsx)(i.gN,{type:"radio",name:"sex",value:"male",className:"add-form-radio-button"}),"Male"]})]}),(0,c.jsxs)("label",{htmlFor:"pet-image",className:"add-form-image-label",children:["Add photo",(0,c.jsxs)("div",{className:"add-form-image-wrapper",children:[!a&&(0,c.jsx)("div",{children:"File not selected"}),!!a&&(0,c.jsx)("img",{id:"image",src:URL.createObjectURL(a),alt:a.name})]}),(0,c.jsx)("input",{type:"file",id:"pet-image",name:"pet-image",accept:".png, .jpg, .jpeg, .webp",onChange:function(e){return n(e.target.files[0])},className:"file-input"}),(0,c.jsx)(i.Bc,{name:"pet-image",component:"div"})]}),"your-pet"!==t&&(0,c.jsxs)("label",{htmlFor:"location",className:"add-form-label",children:["Location",(0,c.jsx)(i.gN,{placeholder:"Type of location",type:"text",name:"location",className:"add-form-input"}),(0,c.jsx)(i.Bc,{name:"location",component:"div"})]}),"sell"===t&&(0,c.jsxs)("label",{htmlFor:"price",className:"add-form-label",children:["Price",(0,c.jsx)(i.gN,{placeholder:"Type of price",type:"text",name:"price",className:"add-form-input"}),(0,c.jsx)(i.Bc,{name:"price",component:"div"})]}),(0,c.jsxs)("label",{htmlFor:"comments",className:"add-form-label",children:["Comments",(0,c.jsx)(i.gN,{as:"textarea",placeholder:"Type comments",name:"comments",className:"add-form-text-area"}),(0,c.jsx)(i.Bc,{name:"comments",component:"div"})]})]})},f=function(e){var t=e.category,a=(0,i.u6)(),n=a.handleChange,r=a.setFieldValue,l=function(e){var t=e.target,a=t.name,l=t.value;n(e),r(a,l)};return(0,c.jsxs)("div",{className:"personal-form-wrapper",children:["your-pet"!==t&&(0,c.jsxs)("label",{htmlFor:"title",children:["Title of add:",(0,c.jsx)(i.gN,{placeholder:"Type title",type:"text",name:"title",className:"add-form-input",onChange:l}),(0,c.jsx)(i.Bc,{name:"title",component:"div"})]}),(0,c.jsxs)("label",{children:["Name:",(0,c.jsx)(i.gN,{placeholder:"Type name pet",type:"text",name:"name",className:"add-form-input",onChange:l}),(0,c.jsx)(i.Bc,{name:"name",component:"div"})]}),(0,c.jsxs)("label",{htmlFor:"birthday",children:["Birthday:",(0,c.jsx)(i.gN,{placeholder:"Type date of birth",type:"text",name:"birthday","data-pattern":"**.**.****",className:"add-form-input",onChange:l}),(0,c.jsx)(i.Bc,{name:"birthday",component:"div"})]}),(0,c.jsxs)("label",{htmlFor:"breed",className:"add-form-label",children:["Breed:",(0,c.jsx)(i.gN,{placeholder:"Type breed",type:"text",name:"breed",onChange:l}),(0,c.jsx)(i.Bc,{name:"breed",component:"div"})]})]})},y=a(6727),g={0:y.Ry().shape({category:y.Z_().required("Category is required")}),1:y.Ry().shape({name:y.Z_().required("Name is required").min(2,"Too short!").max(16,"Too long!"),birthday:y.Z_().required("Birthday is required").matches(/^([0-9]{2}).([0-9]{2}).([0-9]{4})$/,"Invalid date format. Use DD.MM.YYYY"),breed:y.Z_().required("Breed is required").min(2,"Breed should be at least 2 characters").max(16,"Breed should not exceed 16 characters")}),2:y.Ry().shape({image:y.nK().test("fileSize","File size too large",(function(e){return!e||e.size<=5e6})),location:y.Z_().required("Location is required"),price:y.Rx().when("category",{is:"sell",then:y.Rx().required("Price is required").min(1,"Price should be more than 0")}),comments:y.Z_().min(4,"Comments should be at least 4 characters").max(120,"Comments should not exceed 120 characters")})},j={category:"",name:"",title:"",birthday:"",breed:"",location:"",comments:"",image:null,sex:"",price:""},b=function(){var e=(0,o.useState)(""),t=(0,r.Z)(e,2),a=t[0],l=t[1],u=(0,o.useState)(0),y=(0,r.Z)(u,2),b=y[0],v=y[1],N=(0,o.useState)(""),C=(0,r.Z)(N,2),k=C[0],F=C[1],B=(0,o.useState)(""),Z=(0,r.Z)(B,2),q=Z[0],w=Z[1],T=(0,d.s0)(),S=function(){T("/user")},_=function(){v((function(e){return e+1}))},A=function(){v((function(e){return e-1}))},H=function(){var e=(0,n.Z)(s().mark((function e(t,n){var l,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=n.resetForm,o={category:t.category,title:t.title,name:t.name,birthday:t.birthday,breed:t.breed,sex:t.sex,image:a,location:t.location,price:t.price,comments:t.comments},Object.entries(o).forEach((function(e){var t=(0,r.Z)(e,2),a=t[0],n=t[1];return console.log(a,":",n)})),l();case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),P=(0,o.useCallback)((function(){return{"your-pet":"Add my pet",sell:"Add pet for sell","lost-found":"Add to lost or found pet","good-hands":"Add to give a Pet for Adoption","":"Add Pet"}[q]||"Add Pet"}),[q]);return(0,o.useEffect)((function(){F(P())}),[P]),(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{children:k}),(0,c.jsx)(i.J9,{initialValues:j,validationSchema:g[b],onSubmit:H,children:function(e){var t=e.handleChange,n=e.setFieldValue,r=e.values,s=(e.dirty,e.isValid);e.errors;return(0,c.jsxs)(i.l0,{children:[0===b&&(0,c.jsxs)("div",{children:[(0,c.jsx)(h,{setCategory:w}),(0,c.jsx)(p,{type:"button",text:"Next",clickHandler:_,filled:!0,disabled:!q})]}),1===b&&(0,c.jsxs)("div",{children:[(0,c.jsx)(f,{category:q,handleChange:t,setFieldValue:n,values:r}),(0,c.jsx)(p,{type:"button",text:"Next",clickHandler:_,filled:!0,disabled:!s}),(0,c.jsx)(m,{type:"button",disabled:!q,clickHandler:A,text:"Back"})]}),2===b&&(0,c.jsxs)("div",{children:[(0,c.jsx)(x,{fileInput:a,setFileInput:l,category:q}),(0,c.jsx)(p,{type:"submit",text:"Done",filled:!0,disabled:!s}),(0,c.jsx)(m,{type:"button",disabled:!q,clickHandler:A,text:"Back"})]}),0===b&&(0,c.jsx)(m,{type:"button",clickHandler:S,text:"Cancel"})]})}})]})}}}]);
//# sourceMappingURL=195.8dac2530.chunk.js.map