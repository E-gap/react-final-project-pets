"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[154],{7154:function(e,a,s){s.r(a),s.d(a,{default:function(){return te}});var n=s(5861),t=s(9439),l=s(7757),r=s.n(l),o=s(2791),c=s(7689),i=s(5705),d=s(9126),m="ButtonBack_btn__LENSL",p="ButtonBack_icon__scIiW",u=s(3329),h=function(e){var a=e.text,s=e.clickHandler,n=e.type;return(0,u.jsxs)("button",{className:m,onClick:s,type:n,children:[(0,u.jsx)(d.And,{className:p})," ",a]})},_=s(71),x="ButtonNext_button__7mCV-",f="ButtonNext_icon__w0axR",j=function(e){var a=e.type,s=e.text,n=e.clickHandler,t=(e.filled,e.disabled);return(0,u.jsxs)("button",{className:x,type:a,onClick:n,disabled:t,children:[s,(0,u.jsx)(_.Oik,{className:f})]})},N=j;j.defaultProps={type:"button"};var g="ChooseOption_form__RhKQF",y="ChooseOption_field__QKwJw",b="ChooseOption_label__6heQw",v="ChooseOption_fieldText__bJUa+",I=function(e){var a=e.setCategory,s=(0,o.useState)(""),n=(0,t.Z)(s,2),l=n[0],r=n[1],c=function(e){a(e.target.value),r(e.target.value)};return(0,u.jsxs)("div",{className:g,children:[(0,u.jsxs)("label",{className:b,children:[(0,u.jsx)(i.gN,{className:y,type:"radio",name:"category",value:"your-pet",checked:"your-pet"===l,onChange:c}),(0,u.jsx)("span",{className:v,children:"your pet"})]}),(0,u.jsxs)("label",{className:b,children:[(0,u.jsx)(i.gN,{className:y,type:"radio",name:"category",value:"sell",checked:"sell"===l,onChange:c}),(0,u.jsx)("span",{className:v,children:"sell"})]}),(0,u.jsxs)("label",{className:b,children:[(0,u.jsx)(i.gN,{className:y,type:"radio",name:"category",value:"lost-found",checked:"lost-found"===l,onChange:c}),(0,u.jsx)("span",{className:v,children:"lost/found"})]}),(0,u.jsxs)("label",{className:b,children:[(0,u.jsx)(i.gN,{className:y,type:"radio",name:"category",value:"good-hands",checked:"good-hands"===l,onChange:c}),(0,u.jsx)("span",{className:v,children:"in good hands"})]})]})},C="MoreInfo_form__tD43-",k="MoreInfo_genderHeader__V8-mp",B="MoreInfo_genderWrapper__okmKx",M="MoreInfo_genderBtn__8lXj1",A="MoreInfo_maleIcon__PItwI",P="MoreInfo_femaleIcon__7qOz-",T="MoreInfo_genderLabelText__LEiKB",q="MoreInfo_maleBtn__NTRqR",F="MoreInfo_femaleBtn__IRIAA",Z="MoreInfo_genderLabel__tKqCt",w="MoreInfo_label__Z06Tj",L="MoreInfo_labelText__uPy3t",D="MoreInfo_fileLabel__TJABA",R="MoreInfo_fileInput__CZ785",S="MoreInfo_imgWrapper__JgOX-",O="MoreInfo_img__1Mshh",K="MoreInfo_plus__z85Pn",z="MoreInfo_comments__crAUk",V="MoreInfo_field__NgDQ1",H=function(e){var a=e.category,s=e.fileInput,n=e.setFileInput;return(0,u.jsxs)("div",{className:C,children:["your-pet"!==a&&(0,u.jsxs)("div",{className:"add-form-sex-wrapper",children:[(0,u.jsx)("p",{className:k,children:"The Sex"}),(0,u.jsxs)("div",{className:B,children:[(0,u.jsxs)("label",{className:Z,children:[(0,u.jsx)(i.gN,{type:"radio",name:"sex",value:"female",className:M+" "+F}),(0,u.jsx)(d.c1L,{className:P}),(0,u.jsx)("span",{className:T,children:"Female"})]}),(0,u.jsxs)("label",{className:Z,children:[(0,u.jsx)(i.gN,{type:"radio",name:"sex",value:"male",className:M+" "+q}),(0,u.jsx)(d.SxU,{className:A}),(0,u.jsx)("span",{className:T,children:"Male"})]})]})]}),(0,u.jsxs)("label",{className:D,children:[(0,u.jsx)("span",{children:"Add photo"}),(0,u.jsx)("div",{className:S,children:s?(0,u.jsx)("img",{className:O,src:URL.createObjectURL(s),alt:s.name}):(0,u.jsx)(d.B8K,{className:K})}),(0,u.jsx)("input",{type:"file",name:"pet-image",accept:".png, .jpg, .jpeg, .webp",onChange:function(e){return n(e.target.files[0])},className:R}),(0,u.jsx)(i.Bc,{name:"pet-image",component:"div"})]}),"your-pet"!==a&&(0,u.jsxs)("label",{className:w,children:[(0,u.jsx)("span",{className:L,children:"Location"}),(0,u.jsx)(i.gN,{placeholder:"Type of location",type:"text",name:"location",className:V}),(0,u.jsx)(i.Bc,{name:"location",component:"div"})]}),"sell"===a&&(0,u.jsxs)("label",{className:w,children:[(0,u.jsx)("span",{className:L,children:"Price"}),(0,u.jsx)(i.gN,{placeholder:"Type of price",type:"text",name:"price",className:V}),(0,u.jsx)(i.Bc,{name:"price",component:"div"})]}),(0,u.jsxs)("label",{className:w,children:[(0,u.jsx)("span",{className:L,children:"Comments"}),(0,u.jsx)(i.gN,{as:"textarea",placeholder:"Type comments",name:"comments",className:z}),(0,u.jsx)(i.Bc,{name:"comments",component:"div"})]})]})},J="PersonalDetails_form__dSjDr",U="PersonalDetails_label__JodDe",Q="PersonalDetails_labelText__FKlNL",W="PersonalDetails_field__co8xz",E=function(e){var a=e.category,s=(0,i.u6)(),n=s.handleChange,t=s.setFieldValue,l=function(e){var a=e.target,s=a.name,l=a.value;n(e),t(s,l)};return(0,u.jsxs)("div",{className:J,children:["your-pet"!==a&&(0,u.jsxs)("label",{className:U,children:[(0,u.jsx)("span",{className:Q,children:"Title of add"}),(0,u.jsx)(i.gN,{placeholder:"Type title",type:"text",name:"title",className:W,onChange:l}),(0,u.jsx)(i.Bc,{name:"title",component:"div"})]}),(0,u.jsxs)("label",{className:U,children:[(0,u.jsx)("span",{className:Q,children:"Name pet"}),(0,u.jsx)(i.gN,{placeholder:"Type name pet",type:"text",name:"name",className:W,onChange:l}),(0,u.jsx)(i.Bc,{name:"name",component:"div"})]}),(0,u.jsxs)("label",{className:U,children:[(0,u.jsx)("span",{className:Q,children:"Date of birth"}),(0,u.jsx)(i.gN,{placeholder:"Type date of birth",type:"text",name:"birthday","data-pattern":"**.**.****",className:W,onChange:l}),(0,u.jsx)(i.Bc,{name:"birthday",component:"div"})]}),(0,u.jsxs)("label",{className:U,children:[(0,u.jsx)("span",{className:Q,children:"Breed"}),(0,u.jsx)(i.gN,{placeholder:"Type breed",type:"text",name:"breed",className:W,onChange:l}),(0,u.jsx)(i.Bc,{name:"breed",component:"div"})]})]})},Y=s(6727),X={0:Y.Ry().shape({category:Y.Z_().required("Category is required")}),1:Y.Ry().shape({name:Y.Z_().required("Name is required").min(2,"Too short!").max(16,"Too long!"),birthday:Y.Z_().required("Birthday is required").matches(/^([0-9]{2}).([0-9]{2}).([0-9]{4})$/,"Invalid date format. Use DD.MM.YYYY"),breed:Y.Z_().required("Breed is required").min(2,"Breed should be at least 2 characters").max(16,"Breed should not exceed 16 characters")}),2:Y.Ry().shape({image:Y.nK().test("fileSize","File size too large",(function(e){return!e||e.size<=5e6})),location:Y.Z_().required("Location is required"),price:Y.Rx().when("category",{is:"sell",then:Y.Rx().required("Price is required").min(1,"Price should be more than 0")}),comments:Y.Z_().min(4,"Comments should be at least 4 characters").max(120,"Comments should not exceed 120 characters")})},G={category:"",name:"",title:"",birthday:"",breed:"",location:"",comments:"",image:null,sex:"",price:""},$="AddPetForm_main__f2Gp+",ee="AddPetForm_formikWrapper__9abrq",ae="AddPetForm_formik__-5bzX",se="AddPetForm_title__1HeL8",ne="AddPetForm_btnWrapper__06FQ0",te=function(){var e=(0,o.useState)(""),a=(0,t.Z)(e,2),s=a[0],l=a[1],d=(0,o.useState)(0),m=(0,t.Z)(d,2),p=m[0],_=m[1],x=(0,o.useState)(""),f=(0,t.Z)(x,2),j=f[0],g=f[1],y=(0,o.useState)(""),b=(0,t.Z)(y,2),v=b[0],C=b[1],k=(0,c.s0)(),B=function(){k("/user")},M=function(){_((function(e){return e+1}))},A=function(){_((function(e){return e-1}))},P=function(){var e=(0,n.Z)(r().mark((function e(a,n){var l,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=n.resetForm,o={category:a.category,title:a.title,name:a.name,birthday:a.birthday,breed:a.breed,sex:a.sex,image:s,location:a.location,price:a.price,comments:a.comments},Object.entries(o).forEach((function(e){var a=(0,t.Z)(e,2),s=a[0],n=a[1];return console.log(s,":",n)})),l();case 4:case"end":return e.stop()}}),e)})));return function(a,s){return e.apply(this,arguments)}}(),T=(0,o.useCallback)((function(){return{"your-pet":"Add my pet",sell:"Add pet for sell","lost-found":"Add to lost or found pet","good-hands":"Add to give a Pet for Adoption","":"Add Pet"}[v]||"Add Pet"}),[v]);return(0,o.useEffect)((function(){g(T())}),[T]),(0,u.jsx)("main",{className:$,children:(0,u.jsx)("div",{className:ee+" container",children:(0,u.jsx)(i.J9,{initialValues:G,validationSchema:X[p],onSubmit:P,children:function(e){var a=e.handleChange,n=e.setFieldValue,t=e.values,r=(e.dirty,e.isValid);e.errors;return(0,u.jsxs)(i.l0,{className:ae,children:[(0,u.jsx)("h1",{className:se,children:j}),0===p&&(0,u.jsx)(I,{setCategory:C}),1===p&&(0,u.jsx)(E,{category:v,handleChange:a,setFieldValue:n,values:t}),2===p&&(0,u.jsx)(H,{fileInput:s,setFileInput:l,category:v}),(0,u.jsxs)("div",{className:ne,children:[(0,u.jsx)(N,{type:2===p?"submit":"button",text:2===p?"Done":"Next",clickHandler:2!==p?M:void 0,disabled:0===p?!v:!r}),(0,u.jsx)(h,{type:"button",clickHandler:0===p?B:A,text:0===p?"Cancel":"Back"})]})]})}})})})}}}]);
//# sourceMappingURL=154.a33f84ee.chunk.js.map